<analysis>**original_problem_statement**: The user is developing a Maritime Document Management System. The primary, long-standing issue is to fix the Add Other Document feature to allow for uploading large folders (e.g., 124 files) reliably.

PRODUCT REQUIREMENTS:
1.  The folder upload process must handle a large number of files without failing.
2.  The upload must run as a background task.
3.  Progress must be displayed on the global, persistent floating component ().
4.  The upload process **must not be interrupted** if the user navigates to other pages.
5.  The UI must not be blocked while files are being transferred; the user should be able to close the modal immediately after starting the upload.
6.  A Cancel button must be available on the progress bar to stop the ongoing upload task.

**User's preferred language**: Vietnamese. The next agent MUST respond in Vietnamese.

**what currently exists?**
A full-stack application (React, FastAPI, MongoDB) for ship management. It features a global background task system (, ) and integration with Google Drive. The current implementation for large folder uploads (V3 Non-Blocking) uses a frontend  to send files in parallel to a backend API endpoint. The backend is designed to collect these files and then process them in a separate background task, similar to how the Auto Rename feature works. However, this implementation is currently broken.

**Last working item**:
-   **Last item agent was working**: The agent implemented a V3 Non-blocking architecture to solve the persistent folder upload issue. This involves the frontend rapidly sending all files to a temporary holding endpoint on the backend (), and then triggering a second endpoint () to have the backend handle the actual upload to Google Drive as a background task. This was designed to prevent UI blocking and survive page navigation.
-   **Status**: BLOCKED
-   **Agent Testing Done**: N
-   **Which testing method agent to use?**: Backend testing. The immediate priority is to diagnose the  error.
-   **User Testing Done**: Y (The user ran the latest code and provided the console logs showing the failure).

**All Pending/In progress Issue list**:
-   **Issue 1**: **(P0)** The Add Other Document feature consistently fails when uploading files with the V3 architecture.

    -   **Attempted fixes**: The session involved numerous failed attempts to solve this, including: sequential frontend uploads, staggered uploads with , moving logic into React Context, using a singleton , persisting state to , and finally, the current backend-centric V3 approach. All frontend-based solutions failed to survive page navigation. The current backend-centric approach fails with a server error.
    -   **Next debug checklist**:
        1.  **Investigate the  error.** The console log shows all parallel requests to  are failing.
        2.  Check the backend supervisor logs (INFO:     Waiting for application startup.
INFO:app.main:üöÄ Starting Ship Management System API V2...
INFO:app.main:üåê Is Cloud Run: False
INFO:app.main:   K_SERVICE: not set
INFO:app.main:   K_REVISION: not set
WARNING:app.main:‚ö†Ô∏è MONGO_URL status: mongodb://localhost:...
INFO:app.db.mongodb:üîó MONGO_URL from environment: mongodb://localhost:27017/ship...
INFO:app.db.mongodb:üåê Running on Cloud Run: False
INFO:app.db.mongodb:üîç DEBUG - DB_NAME env var value: 'ship_management'
INFO:app.db.mongodb:üîç DEBUG - DB_NAME type: <class 'str'>
INFO:app.db.mongodb:üîç DEBUG - DATABASE_NAME: 'None', MONGODB_DATABASE: 'None'
INFO:app.db.mongodb:üîç DEBUG - DB name from URL: 'ship_management'
INFO:app.db.mongodb:üìå Using DB name from DB_NAME env: ship_management
INFO:app.db.mongodb:Database indexes created successfully
INFO:app.db.mongodb:‚úÖ Successfully connected to MongoDB: ship_management
INFO:app.main:‚úÖ Database connected
INFO:app.utils.init_admin:‚úÖ Admin user already exists: system_admin
INFO:apscheduler.scheduler:Adding job tentatively -- it will be properly scheduled when the scheduler starts
INFO:apscheduler.scheduler:Added job "Daily Cleanup Report" to job store "default"
INFO:apscheduler.scheduler:Scheduler started
INFO:app.main:‚úÖ Scheduler started - Cleanup job scheduled for 2:00 AM daily
INFO:app.main:‚úÖ Ship Management System API v2.0.0 is ready!
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'app/api/v1/other_documents.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:app.main:‚úÖ Scheduler shut down
INFO:app.db.mongodb:Disconnected from MongoDB
INFO:app.main:‚úÖ Database disconnected
INFO:apscheduler.scheduler:Scheduler has been shut down
INFO:     Application shutdown complete.
INFO:     Finished server process [424]
INFO:     Started server process [493]
INFO:     Waiting for application startup.
INFO:app.main:üöÄ Starting Ship Management System API V2...
INFO:app.main:üåê Is Cloud Run: False
INFO:app.main:   K_SERVICE: not set
INFO:app.main:   K_REVISION: not set
WARNING:app.main:‚ö†Ô∏è MONGO_URL status: mongodb://localhost:...
INFO:app.db.mongodb:üîó MONGO_URL from environment: mongodb://localhost:27017/ship...
INFO:app.db.mongodb:üåê Running on Cloud Run: False
INFO:app.db.mongodb:üîç DEBUG - DB_NAME env var value: 'ship_management'
INFO:app.db.mongodb:üîç DEBUG - DB_NAME type: <class 'str'>
INFO:app.db.mongodb:üîç DEBUG - DATABASE_NAME: 'None', MONGODB_DATABASE: 'None'
INFO:app.db.mongodb:üîç DEBUG - DB name from URL: 'ship_management'
INFO:app.db.mongodb:üìå Using DB name from DB_NAME env: ship_management
INFO:app.db.mongodb:Database indexes created successfully
INFO:app.db.mongodb:‚úÖ Successfully connected to MongoDB: ship_management
INFO:app.main:‚úÖ Database connected
INFO:app.utils.init_admin:‚úÖ Admin user already exists: system_admin
INFO:apscheduler.scheduler:Adding job tentatively -- it will be properly scheduled when the scheduler starts
INFO:apscheduler.scheduler:Added job "Daily Cleanup Report" to job store "default"
INFO:apscheduler.scheduler:Scheduler started
INFO:app.main:‚úÖ Scheduler started - Cleanup job scheduled for 2:00 AM daily
INFO:app.main:‚úÖ Ship Management System API v2.0.0 is ready!
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'app/services/background_upload_service.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:app.main:‚úÖ Scheduler shut down
INFO:app.db.mongodb:Disconnected from MongoDB
INFO:app.main:‚úÖ Database disconnected
INFO:apscheduler.scheduler:Scheduler has been shut down
INFO:     Application shutdown complete.
INFO:     Finished server process [493]
INFO:     Started server process [587]
INFO:     Waiting for application startup.
INFO:app.main:üöÄ Starting Ship Management System API V2...
INFO:app.main:üåê Is Cloud Run: False
INFO:app.main:   K_SERVICE: not set
INFO:app.main:   K_REVISION: not set
WARNING:app.main:‚ö†Ô∏è MONGO_URL status: mongodb://localhost:...
INFO:app.db.mongodb:üîó MONGO_URL from environment: mongodb://localhost:27017/ship...
INFO:app.db.mongodb:üåê Running on Cloud Run: False
INFO:app.db.mongodb:üîç DEBUG - DB_NAME env var value: 'ship_management'
INFO:app.db.mongodb:üîç DEBUG - DB_NAME type: <class 'str'>
INFO:app.db.mongodb:üîç DEBUG - DATABASE_NAME: 'None', MONGODB_DATABASE: 'None'
INFO:app.db.mongodb:üîç DEBUG - DB name from URL: 'ship_management'
INFO:app.db.mongodb:üìå Using DB name from DB_NAME env: ship_management
INFO:app.db.mongodb:Database indexes created successfully
INFO:app.db.mongodb:‚úÖ Successfully connected to MongoDB: ship_management
INFO:app.main:‚úÖ Database connected
INFO:app.utils.init_admin:‚úÖ Admin user already exists: system_admin
INFO:apscheduler.scheduler:Adding job tentatively -- it will be properly scheduled when the scheduler starts
INFO:apscheduler.scheduler:Added job "Daily Cleanup Report" to job store "default"
INFO:apscheduler.scheduler:Scheduler started
INFO:app.main:‚úÖ Scheduler started - Cleanup job scheduled for 2:00 AM daily
INFO:app.main:‚úÖ Ship Management System API v2.0.0 is ready!
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'app/api/v1/other_documents.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:app.main:‚úÖ Scheduler shut down
INFO:app.db.mongodb:Disconnected from MongoDB
INFO:app.main:‚úÖ Database disconnected
INFO:apscheduler.scheduler:Scheduler has been shut down
INFO:     Application shutdown complete.
INFO:     Finished server process [587]
INFO:     Started server process [807]
INFO:     Waiting for application startup.
INFO:app.main:üöÄ Starting Ship Management System API V2...
INFO:app.main:üåê Is Cloud Run: False
INFO:app.main:   K_SERVICE: not set
INFO:app.main:   K_REVISION: not set
WARNING:app.main:‚ö†Ô∏è MONGO_URL status: mongodb://localhost:...
INFO:app.db.mongodb:üîó MONGO_URL from environment: mongodb://localhost:27017/ship...
INFO:app.db.mongodb:üåê Running on Cloud Run: False
INFO:app.db.mongodb:üîç DEBUG - DB_NAME env var value: 'ship_management'
INFO:app.db.mongodb:üîç DEBUG - DB_NAME type: <class 'str'>
INFO:app.db.mongodb:üîç DEBUG - DATABASE_NAME: 'None', MONGODB_DATABASE: 'None'
INFO:app.db.mongodb:üîç DEBUG - DB name from URL: 'ship_management'
INFO:app.db.mongodb:üìå Using DB name from DB_NAME env: ship_management
INFO:app.db.mongodb:Database indexes created successfully
INFO:app.db.mongodb:‚úÖ Successfully connected to MongoDB: ship_management
INFO:app.main:‚úÖ Database connected
INFO:app.utils.init_admin:‚úÖ Admin user already exists: system_admin
INFO:apscheduler.scheduler:Adding job tentatively -- it will be properly scheduled when the scheduler starts
INFO:apscheduler.scheduler:Added job "Daily Cleanup Report" to job store "default"
INFO:apscheduler.scheduler:Scheduler started
INFO:app.main:‚úÖ Scheduler started - Cleanup job scheduled for 2:00 AM daily
INFO:app.main:‚úÖ Ship Management System API v2.0.0 is ready!
INFO:     Application startup complete.
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:app.main:‚úÖ Scheduler shut down
INFO:app.db.mongodb:Disconnected from MongoDB
INFO:app.main:‚úÖ Database disconnected
INFO:apscheduler.scheduler:Scheduler has been shut down
INFO:     Application shutdown complete.
INFO:     Finished server process [807]
INFO:     Stopping reloader process [48]
INFO:     Will watch for changes in these directories: ['/app/backend']
INFO:     Uvicorn running on http://0.0.0.0:8001 (Press CTRL+C to quit)
INFO:     Started reloader process [822] using WatchFiles
INFO:     Started server process [824]
INFO:     Waiting for application startup.
INFO:app.main:üöÄ Starting Ship Management System API V2...
INFO:app.main:üåê Is Cloud Run: False
INFO:app.main:   K_SERVICE: not set
INFO:app.main:   K_REVISION: not set
WARNING:app.main:‚ö†Ô∏è MONGO_URL status: mongodb://localhost:...
INFO:app.db.mongodb:üîó MONGO_URL from environment: mongodb://localhost:27017/ship...
INFO:app.db.mongodb:üåê Running on Cloud Run: False
INFO:app.db.mongodb:üîç DEBUG - DB_NAME env var value: 'ship_management'
INFO:app.db.mongodb:üîç DEBUG - DB_NAME type: <class 'str'>
INFO:app.db.mongodb:üîç DEBUG - DATABASE_NAME: 'None', MONGODB_DATABASE: 'None'
INFO:app.db.mongodb:üîç DEBUG - DB name from URL: 'ship_management'
INFO:app.db.mongodb:üìå Using DB name from DB_NAME env: ship_management
INFO:app.db.mongodb:Database indexes created successfully
INFO:app.db.mongodb:‚úÖ Successfully connected to MongoDB: ship_management
INFO:app.main:‚úÖ Database connected
INFO:app.utils.init_admin:‚úÖ Admin user already exists: system_admin
INFO:apscheduler.scheduler:Adding job tentatively -- it will be properly scheduled when the scheduler starts
INFO:apscheduler.scheduler:Added job "Daily Cleanup Report" to job store "default"
INFO:apscheduler.scheduler:Scheduler started
INFO:app.main:‚úÖ Scheduler started - Cleanup job scheduled for 2:00 AM daily
INFO:app.main:‚úÖ Ship Management System API v2.0.0 is ready!
INFO:     Application startup complete.
INFO:app.api.v1.other_documents:üìÅ Creating background upload task: Pic for 124 files
INFO:app.services.background_upload_service:üìù Created background upload task v2: 43c56e3d-e988-4103-8669-3e8cc23f6a57 for 124 files
INFO:app.api.v1.other_documents:üö´ Cancel request for task 43c56e3d-e988-4103-8669-3e8cc23f6a57 by user f3f154bc-e636-4fe3-8aa9-85ca113ef8b1
INFO:app.services.background_upload_service:üö´ Task 43c56e3d-e988-4103-8669-3e8cc23f6a57 cancelled by user f3f154bc-e636-4fe3-8aa9-85ca113ef8b1
INFO:app.api.v1.system_announcements:‚úÖ Retrieved 0 active announcements
INFO:app.api.v1.system_announcements:‚úÖ Retrieved 0 active announcements
INFO:app.services.company_service:‚úÖ Company AMCSC: 1 ships, 1 crew
INFO:app.services.company_service:‚úÖ Company AMCSC: 1 ships, 1 crew
INFO:app.services.gdrive_service:Requesting file view URL from Apps Script for file: 1tX6W8iozIaSzytDkWG0Lcf2FBwATTcDm
INFO:app.services.gdrive_service:Requesting file view URL from Apps Script for file: 1Tg5OZGiXjMn5KoQpQ8VVZYrOa_ShxULD
INFO:app.services.gdrive_service:Requesting file view URL from Apps Script for file: 1P2HtBnQ6Xbue6_-0Yln52jGTS8ljs0vZ
INFO:app.services.gdrive_service:Requesting file view URL from Apps Script for file: 13DOvzRxsoHC51YgwCyEl8bqf8nrDYaWm
INFO:app.services.gdrive_service:Requesting file view URL from Apps Script for file: 1vc40syQf2hzrngZI59CrfS6eWOdG5aWQ
INFO:app.api.v1.other_documents:üìÅ Creating background upload task: Pic for 124 files
INFO:app.services.background_upload_service:üìù Created background upload task v2: 63c7675a-ee6a-463b-a7c6-d797632a916c for 124 files
INFO:     Will watch for changes in these directories: ['/app/backend']
INFO:     Uvicorn running on http://0.0.0.0:8001 (Press CTRL+C to quit)
INFO:     Started reloader process [48] using WatchFiles
INFO:     Started server process [91]
INFO:     Waiting for application startup.
INFO:app.main:üöÄ Starting Ship Management System API V2...
INFO:app.main:üåê Is Cloud Run: False
INFO:app.main:   K_SERVICE: not set
INFO:app.main:   K_REVISION: not set
WARNING:app.main:‚ö†Ô∏è MONGO_URL status: mongodb://localhost:...
INFO:app.db.mongodb:üîó MONGO_URL from environment: mongodb://localhost:27017/ship...
INFO:app.db.mongodb:üåê Running on Cloud Run: False
INFO:app.db.mongodb:üîç DEBUG - DB_NAME env var value: 'ship_management'
INFO:app.db.mongodb:üîç DEBUG - DB_NAME type: <class 'str'>
INFO:app.db.mongodb:üîç DEBUG - DATABASE_NAME: 'None', MONGODB_DATABASE: 'None'
INFO:app.db.mongodb:üîç DEBUG - DB name from URL: 'ship_management'
INFO:app.db.mongodb:üìå Using DB name from DB_NAME env: ship_management
INFO:app.db.mongodb:Database indexes created successfully
INFO:app.db.mongodb:‚úÖ Successfully connected to MongoDB: ship_management
INFO:app.main:‚úÖ Database connected
INFO:app.utils.init_admin:‚úÖ Admin user already exists: system_admin
INFO:apscheduler.scheduler:Adding job tentatively -- it will be properly scheduled when the scheduler starts
INFO:apscheduler.scheduler:Added job "Daily Cleanup Report" to job store "default"
INFO:apscheduler.scheduler:Scheduler started
INFO:app.main:‚úÖ Scheduler started - Cleanup job scheduled for 2:00 AM daily
INFO:app.main:‚úÖ Ship Management System API v2.0.0 is ready!
INFO:     Application startup complete. and INFO:     10.64.134.68:54874 - "POST /api/other-documents/background-upload-folder/43c56e3d-e988-4103-8669-3e8cc23f6a57/add-file HTTP/1.1" 400 Bad Request
INFO:     10.64.138.28:46824 - "POST /api/other-documents/background-upload-folder/43c56e3d-e988-4103-8669-3e8cc23f6a57/add-file HTTP/1.1" 400 Bad Request
INFO:     10.64.134.90:47138 - "POST /api/other-documents/background-upload-folder/43c56e3d-e988-4103-8669-3e8cc23f6a57/add-file HTTP/1.1" 400 Bad Request
INFO:     10.64.138.28:46824 - "POST /api/other-documents/background-upload-folder/43c56e3d-e988-4103-8669-3e8cc23f6a57/add-file HTTP/1.1" 400 Bad Request
INFO:     10.64.138.74:44146 - "POST /api/other-documents/background-upload-folder/43c56e3d-e988-4103-8669-3e8cc23f6a57/add-file HTTP/1.1" 400 Bad Request
INFO:     10.64.134.90:47138 - "POST /api/other-documents/background-upload-folder/43c56e3d-e988-4103-8669-3e8cc23f6a57/add-file HTTP/1.1" 400 Bad Request
INFO:     10.64.134.68:43784 - "POST /api/other-documents/background-upload-folder/43c56e3d-e988-4103-8669-3e8cc23f6a57/add-file HTTP/1.1" 400 Bad Request
INFO:     10.64.138.6:48944 - "POST /api/other-documents/background-upload-folder/43c56e3d-e988-4103-8669-3e8cc23f6a57/add-file HTTP/1.1" 400 Bad Request
INFO:     10.64.138.28:46824 - "POST /api/other-documents/background-upload-folder/43c56e3d-e988-4103-8669-3e8cc23f6a57/add-file HTTP/1.1" 400 Bad Request
INFO:     10.64.138.28:46824 - "POST /api/other-documents/background-upload-folder/43c56e3d-e988-4103-8669-3e8cc23f6a57/add-file HTTP/1.1" 400 Bad Request
INFO:     10.64.134.90:47138 - "POST /api/other-documents/background-upload-folder/43c56e3d-e988-4103-8669-3e8cc23f6a57/add-file HTTP/1.1" 400 Bad Request
INFO:     10.64.138.28:46824 - "POST /api/other-documents/background-upload-folder/43c56e3d-e988-4103-8669-3e8cc23f6a57/add-file HTTP/1.1" 400 Bad Request
INFO:     10.64.138.74:42856 - "POST /api/other-documents/background-upload-folder/43c56e3d-e988-4103-8669-3e8cc23f6a57/add-file HTTP/1.1" 400 Bad Request
INFO:     10.64.138.6:48944 - "POST /api/other-documents/background-upload-folder/43c56e3d-e988-4103-8669-3e8cc23f6a57/add-file HTTP/1.1" 400 Bad Request
INFO:     10.64.138.74:42856 - "POST /api/other-documents/background-upload-folder/43c56e3d-e988-4103-8669-3e8cc23f6a57/add-file HTTP/1.1" 400 Bad Request
INFO:     10.64.134.68:55876 - "POST /api/other-documents/background-upload-folder/43c56e3d-e988-4103-8669-3e8cc23f6a57/add-file HTTP/1.1" 400 Bad Request
INFO:     10.64.134.68:55876 - "POST /api/other-documents/background-upload-folder/43c56e3d-e988-4103-8669-3e8cc23f6a57/add-file HTTP/1.1" 400 Bad Request
INFO:     10.64.134.90:47138 - "POST /api/other-documents/background-upload-folder/43c56e3d-e988-4103-8669-3e8cc23f6a57/add-file HTTP/1.1" 400 Bad Request
INFO:     10.64.138.28:46824 - "POST /api/other-documents/background-upload-folder/43c56e3d-e988-4103-8669-3e8cc23f6a57/add-file HTTP/1.1" 400 Bad Request
INFO:     10.64.138.74:42856 - "POST /api/other-documents/background-upload-folder/43c56e3d-e988-4103-8669-3e8cc23f6a57/add-file HTTP/1.1" 400 Bad Request
INFO:     10.64.138.74:42856 - "POST /api/other-documents/background-upload-folder/43c56e3d-e988-4103-8669-3e8cc23f6a57/add-file HTTP/1.1" 400 Bad Request
INFO:     10.64.134.68:55876 - "POST /api/other-documents/background-upload-folder/43c56e3d-e988-4103-8669-3e8cc23f6a57/add-file HTTP/1.1" 400 Bad Request
INFO:     10.64.134.68:55876 - "POST /api/other-documents/background-upload-folder/43c56e3d-e988-4103-8669-3e8cc23f6a57/add-file HTTP/1.1" 400 Bad Request
INFO:     10.64.138.74:42856 - "POST /api/other-documents/background-upload-folder/43c56e3d-e988-4103-8669-3e8cc23f6a57/add-file HTTP/1.1" 400 Bad Request
INFO:     10.64.134.90:47138 - "POST /api/other-documents/background-upload-folder/43c56e3d-e988-4103-8669-3e8cc23f6a57/add-file HTTP/1.1" 400 Bad Request
INFO:     10.64.138.6:52062 - "POST /api/other-documents/background-upload-folder/43c56e3d-e988-4103-8669-3e8cc23f6a57/add-file HTTP/1.1" 400 Bad Request
INFO:     10.64.138.6:52062 - "POST /api/other-documents/background-upload-folder/43c56e3d-e988-4103-8669-3e8cc23f6a57/add-file HTTP/1.1" 400 Bad Request
INFO:     10.64.138.28:46824 - "POST /api/other-documents/background-upload-folder/43c56e3d-e988-4103-8669-3e8cc23f6a57/add-file HTTP/1.1" 400 Bad Request
INFO:     10.64.134.90:47138 - "POST /api/other-documents/background-upload-folder/43c56e3d-e988-4103-8669-3e8cc23f6a57/add-file HTTP/1.1" 400 Bad Request
INFO:     10.64.138.28:46824 - "POST /api/other-documents/background-upload-folder/43c56e3d-e988-4103-8669-3e8cc23f6a57/add-file HTTP/1.1" 400 Bad Request
INFO:     10.64.134.90:47138 - "POST /api/other-documents/background-upload-folder/43c56e3d-e988-4103-8669-3e8cc23f6a57/add-file HTTP/1.1" 400 Bad Request
INFO:     10.64.134.90:47138 - "POST /api/other-documents/background-upload-folder/43c56e3d-e988-4103-8669-3e8cc23f6a57/add-file HTTP/1.1" 400 Bad Request
INFO:     10.64.138.28:46824 - "POST /api/other-documents/background-upload-folder/43c56e3d-e988-4103-8669-3e8cc23f6a57/add-file HTTP/1.1" 400 Bad Request
INFO:     10.64.138.74:50030 - "POST /api/other-documents/background-upload-folder/43c56e3d-e988-4103-8669-3e8cc23f6a57/add-file HTTP/1.1" 400 Bad Request
INFO:     10.64.134.90:47138 - "POST /api/other-documents/background-upload-folder/43c56e3d-e988-4103-8669-3e8cc23f6a57/add-file HTTP/1.1" 400 Bad Request
INFO:     10.64.138.74:50030 - "POST /api/other-documents/background-upload-folder/43c56e3d-e988-4103-8669-3e8cc23f6a57/add-file HTTP/1.1" 400 Bad Request
INFO:     10.64.134.68:36818 - "POST /api/other-documents/background-upload-folder/43c56e3d-e988-4103-8669-3e8cc23f6a57/add-file HTTP/1.1" 400 Bad Request
INFO:     10.64.134.90:47138 - "POST /api/other-documents/background-upload-folder/43c56e3d-e988-4103-8669-3e8cc23f6a57/add-file HTTP/1.1" 400 Bad Request
INFO:     10.64.138.6:43906 - "POST /api/other-documents/background-upload-folder/43c56e3d-e988-4103-8669-3e8cc23f6a57/add-file HTTP/1.1" 400 Bad Request
INFO:     10.64.138.28:43488 - "POST /api/other-documents/background-upload-folder/43c56e3d-e988-4103-8669-3e8cc23f6a57/add-file HTTP/1.1" 400 Bad Request
INFO:     10.64.134.90:47138 - "POST /api/other-documents/background-upload-folder/43c56e3d-e988-4103-8669-3e8cc23f6a57/add-file HTTP/1.1" 400 Bad Request
INFO:     10.64.138.74:60696 - "POST /api/other-documents/background-upload-folder/43c56e3d-e988-4103-8669-3e8cc23f6a57/add-file HTTP/1.1" 400 Bad Request
INFO:     10.64.138.74:60696 - "POST /api/other-documents/background-upload-folder/43c56e3d-e988-4103-8669-3e8cc23f6a57/add-file HTTP/1.1" 400 Bad Request
INFO:     10.64.138.74:60696 - "POST /api/other-documents/background-upload-folder/43c56e3d-e988-4103-8669-3e8cc23f6a57/add-file HTTP/1.1" 400 Bad Request
INFO:     10.64.134.68:33608 - "POST /api/other-documents/background-upload-folder/43c56e3d-e988-4103-8669-3e8cc23f6a57/add-file HTTP/1.1" 400 Bad Request
INFO:     10.64.138.6:33598 - "POST /api/other-documents/background-upload-folder/43c56e3d-e988-4103-8669-3e8cc23f6a57/add-file HTTP/1.1" 400 Bad Request
INFO:     10.64.138.28:39978 - "POST /api/other-documents/background-upload-folder/43c56e3d-e988-4103-8669-3e8cc23f6a57/add-file HTTP/1.1" 400 Bad Request
INFO:     10.64.134.90:40352 - "POST /api/other-documents/background-upload-folder/43c56e3d-e988-4103-8669-3e8cc23f6a57/add-file HTTP/1.1" 400 Bad Request
INFO:     10.64.134.90:40352 - "POST /api/other-documents/background-upload-folder/43c56e3d-e988-4103-8669-3e8cc23f6a57/add-file HTTP/1.1" 400 Bad Request
INFO:     10.64.138.6:33598 - "POST /api/other-documents/background-upload-folder/43c56e3d-e988-4103-8669-3e8cc23f6a57/add-file HTTP/1.1" 400 Bad Request
INFO:     10.64.138.28:39978 - "POST /api/other-documents/background-upload-folder/43c56e3d-e988-4103-8669-3e8cc23f6a57/add-file HTTP/1.1" 400 Bad Request
INFO:     10.64.138.28:39978 - "POST /api/other-documents/background-upload-folder/43c56e3d-e988-4103-8669-3e8cc23f6a57/add-file HTTP/1.1" 400 Bad Request
INFO:     10.64.138.28:39978 - "POST /api/other-documents/background-upload-folder/43c56e3d-e988-4103-8669-3e8cc23f6a57/add-file HTTP/1.1" 400 Bad Request
INFO:     10.64.138.28:39978 - "POST /api/other-documents/background-upload-folder/43c56e3d-e988-4103-8669-3e8cc23f6a57/add-file HTTP/1.1" 400 Bad Request
INFO:     10.64.138.28:51514 - "GET /api/system-announcements/active HTTP/1.1" 200 OK
INFO:     10.64.138.28:51514 - "GET /api/system-announcements/active HTTP/1.1" 200 OK
INFO:     10.64.134.68:46172 - "GET /api/verify-token HTTP/1.1" 200 OK
INFO:     10.64.138.74:34514 - "GET /api/companies HTTP/1.1" 200 OK
INFO:     10.64.134.90:40300 - "GET /api/companies HTTP/1.1" 200 OK
INFO:     10.64.134.90:40300 - "GET /api/companies HTTP/1.1" 200 OK
INFO:     10.64.134.90:40300 - "GET /api/ai-config HTTP/1.1" 200 OK
INFO:     10.64.138.6:41598 - "GET /api/ships HTTP/1.1" 200 OK
INFO:     10.64.134.68:46172 - "GET /api/company HTTP/1.1" 200 OK
INFO:     10.64.138.28:51514 - "GET /api/ai-config HTTP/1.1" 200 OK
INFO:     10.64.138.28:51514 - "GET /api/company HTTP/1.1" 200 OK
INFO:     10.64.138.6:41598 - "GET /api/ships HTTP/1.1" 200 OK
INFO:     10.64.138.74:34514 - "GET /api/ships/317321ec-add6-4928-9dd1-1d2b88e66905/certificates HTTP/1.1" 200 OK
INFO:     10.64.134.90:40300 - "GET /api/gdrive/file/1tX6W8iozIaSzytDkWG0Lcf2FBwATTcDm/view HTTP/1.1" 200 OK
INFO:     10.64.134.90:39412 - "GET /api/ships HTTP/1.1" 200 OK
INFO:     10.64.134.68:40992 - "GET /api/ships HTTP/1.1" 200 OK
INFO:     10.64.134.90:39412 - "GET /api/other-documents?ship_id=seamanage-1 HTTP/1.1" 200 OK
INFO:     10.64.138.6:42260 - "GET /api/other-documents?ship_id=seamanage-1 HTTP/1.1" 200 OK
INFO:     10.64.138.28:53578 - "POST /api/other-documents/background-upload-folder/create-task HTTP/1.1" 200 OK
INFO:     10.64.138.74:60792 - "GET /api/other-documents/background-upload-folder/63c7675a-ee6a-463b-a7c6-d797632a916c HTTP/1.1" 200 OK
INFO:     10.64.138.74:60792 - "GET /api/other-documents/background-upload-folder/63c7675a-ee6a-463b-a7c6-d797632a916c HTTP/1.1" 200 OK
INFO:     10.64.134.68:33512 - "GET /api/other-documents/background-upload-folder/63c7675a-ee6a-463b-a7c6-d797632a916c HTTP/1.1" 200 OK
INFO:     10.64.134.68:33512 - "GET /api/other-documents/background-upload-folder/63c7675a-ee6a-463b-a7c6-d797632a916c HTTP/1.1" 200 OK
INFO:     10.64.134.90:55390 - "GET /api/other-documents/background-upload-folder/63c7675a-ee6a-463b-a7c6-d797632a916c HTTP/1.1" 200 OK
INFO:     10.64.138.28:55734 - "GET /api/other-documents/background-upload-folder/63c7675a-ee6a-463b-a7c6-d797632a916c HTTP/1.1" 200 OK
INFO:     10.64.134.68:33512 - "GET /api/other-documents/background-upload-folder/63c7675a-ee6a-463b-a7c6-d797632a916c HTTP/1.1" 200 OK
INFO:     10.64.138.28:53578 - "POST /api/other-documents/background-upload-folder/63c7675a-ee6a-463b-a7c6-d797632a916c/add-file HTTP/1.1" 400 Bad Request
INFO:     10.64.138.74:60778 - "POST /api/other-documents/background-upload-folder/63c7675a-ee6a-463b-a7c6-d797632a916c/add-file HTTP/1.1" 400 Bad Request
INFO:     10.64.138.74:60778 - "GET /api/other-documents/background-upload-folder/63c7675a-ee6a-463b-a7c6-d797632a916c HTTP/1.1" 200 OK
INFO:     10.64.138.6:42870 - "POST /api/other-documents/background-upload-folder/63c7675a-ee6a-463b-a7c6-d797632a916c/add-file HTTP/1.1" 400 Bad Request
INFO:     10.64.138.74:60784 - "POST /api/other-documents/background-upload-folder/63c7675a-ee6a-463b-a7c6-d797632a916c/add-file HTTP/1.1" 400 Bad Request
INFO:     10.64.138.28:53578 - "GET /api/other-documents/background-upload-folder/63c7675a-ee6a-463b-a7c6-d797632a916c HTTP/1.1" 200 OK
INFO:     10.64.134.90:55390 - "GET /api/other-documents/background-upload-folder/63c7675a-ee6a-463b-a7c6-d797632a916c HTTP/1.1" 200 OK
INFO:     10.64.134.90:55390 - "GET /api/other-documents/background-upload-folder/63c7675a-ee6a-463b-a7c6-d797632a916c HTTP/1.1" 200 OK
INFO:     10.64.138.28:53578 - "GET /api/other-documents/background-upload-folder/63c7675a-ee6a-463b-a7c6-d797632a916c HTTP/1.1" 200 OK
INFO:     10.64.138.28:53588 - "POST /api/other-documents/background-upload-folder/63c7675a-ee6a-463b-a7c6-d797632a916c/add-file HTTP/1.1" 400 Bad Request
INFO:     10.64.138.6:42870 - "GET /api/other-documents/background-upload-folder/63c7675a-ee6a-463b-a7c6-d797632a916c HTTP/1.1" 200 OK
INFO:     10.64.134.68:33528 - "GET /api/other-documents/background-upload-folder/63c7675a-ee6a-463b-a7c6-d797632a916c HTTP/1.1" 200 OK
INFO:     10.64.134.90:55390 - "GET /api/other-documents/background-upload-folder/63c7675a-ee6a-463b-a7c6-d797632a916c HTTP/1.1" 200 OK
INFO:     10.64.138.28:55734 - "GET /api/other-documents/background-upload-folder/63c7675a-ee6a-463b-a7c6-d797632a916c HTTP/1.1" 200 OK
INFO:     10.64.134.90:55390 - "GET /api/other-documents/background-upload-folder/63c7675a-ee6a-463b-a7c6-d797632a916c HTTP/1.1" 200 OK
INFO:     10.64.138.74:33154 - "GET /api/other-documents/background-upload-folder/63c7675a-ee6a-463b-a7c6-d797632a916c HTTP/1.1" 200 OK
INFO:     10.64.134.90:55390 - "GET /api/other-documents/background-upload-folder/63c7675a-ee6a-463b-a7c6-d797632a916c HTTP/1.1" 200 OK
INFO:     10.64.138.74:60792 - "POST /api/other-documents/background-upload-folder/63c7675a-ee6a-463b-a7c6-d797632a916c/add-file HTTP/1.1" 400 Bad Request
INFO:     10.64.138.6:42870 - "GET /api/other-documents/background-upload-folder/63c7675a-ee6a-463b-a7c6-d797632a916c HTTP/1.1" 200 OK
INFO:     10.64.138.74:33140 - "POST /api/other-documents/background-upload-folder/63c7675a-ee6a-463b-a7c6-d797632a916c/add-file HTTP/1.1" 400 Bad Request
INFO:     10.64.134.68:33528 - "GET /api/other-documents/background-upload-folder/63c7675a-ee6a-463b-a7c6-d797632a916c HTTP/1.1" 200 OK
INFO:     10.64.134.68:33512 - "POST /api/other-documents/background-upload-folder/63c7675a-ee6a-463b-a7c6-d797632a916c/add-file HTTP/1.1" 400 Bad Request
INFO:     10.64.138.6:42870 - "GET /api/other-documents/background-upload-folder/63c7675a-ee6a-463b-a7c6-d797632a916c HTTP/1.1" 200 OK
INFO:     10.64.138.74:60778 - "POST /api/other-documents/background-upload-folder/63c7675a-ee6a-463b-a7c6-d797632a916c/add-file HTTP/1.1" 400 Bad Request
INFO:     10.64.138.28:53578 - "POST /api/other-documents/background-upload-folder/63c7675a-ee6a-463b-a7c6-d797632a916c/add-file HTTP/1.1" 400 Bad Request
INFO:     10.64.138.74:60792 - "GET /api/other-documents/background-upload-folder/63c7675a-ee6a-463b-a7c6-d797632a916c HTTP/1.1" 200 OK
INFO:     10.64.138.6:46182 - "GET /api/other-documents/background-upload-folder/63c7675a-ee6a-463b-a7c6-d797632a916c HTTP/1.1" 200 OK
INFO:     10.64.134.68:33512 - "GET /api/other-documents/background-upload-folder/63c7675a-ee6a-463b-a7c6-d797632a916c HTTP/1.1" 200 OK
INFO:     10.64.138.74:33154 - "GET /api/other-documents/background-upload-folder/63c7675a-ee6a-463b-a7c6-d797632a916c HTTP/1.1" 200 OK
INFO:     10.64.138.74:33154 - "GET /api/other-documents/background-upload-folder/63c7675a-ee6a-463b-a7c6-d797632a916c HTTP/1.1" 200 OK
INFO:     10.64.134.68:33512 - "GET /api/other-documents/background-upload-folder/63c7675a-ee6a-463b-a7c6-d797632a916c HTTP/1.1" 200 OK
INFO:     10.64.134.90:37214 - "GET /api/other-documents/background-upload-folder/63c7675a-ee6a-463b-a7c6-d797632a916c HTTP/1.1" 200 OK
INFO:     10.64.138.6:46182 - "GET /api/other-documents/background-upload-folder/63c7675a-ee6a-463b-a7c6-d797632a916c HTTP/1.1" 200 OK
INFO:     10.64.134.90:55390 - "POST /api/other-documents/background-upload-folder/63c7675a-ee6a-463b-a7c6-d797632a916c/add-file HTTP/1.1" 400 Bad Request
INFO:     10.64.138.28:55734 - "POST /api/other-documents/background-upload-folder/63c7675a-ee6a-463b-a7c6-d797632a916c/add-file HTTP/1.1" 400 Bad Request
INFO:     10.64.138.6:42870 - "POST /api/other-documents/background-upload-folder/63c7675a-ee6a-463b-a7c6-d797632a916c/add-file HTTP/1.1" 400 Bad Request
INFO:     10.64.138.74:60792 - "POST /api/other-documents/background-upload-folder/63c7675a-ee6a-463b-a7c6-d797632a916c/add-file HTTP/1.1" 400 Bad Request
INFO:     10.64.138.28:53578 - "POST /api/other-documents/background-upload-folder/63c7675a-ee6a-463b-a7c6-d797632a916c/add-file HTTP/1.1" 400 Bad Request
INFO:     10.64.134.68:33512 - "GET /api/other-documents/background-upload-folder/63c7675a-ee6a-463b-a7c6-d797632a916c HTTP/1.1" 200 OK
INFO:     10.64.134.68:33528 - "GET /api/other-documents/background-upload-folder/63c7675a-ee6a-463b-a7c6-d797632a916c HTTP/1.1" 200 OK
INFO:     10.64.134.90:37222 - "GET /api/other-documents/background-upload-folder/63c7675a-ee6a-463b-a7c6-d797632a916c HTTP/1.1" 200 OK
INFO:     10.64.138.28:53578 - "GET /api/other-documents/background-upload-folder/63c7675a-ee6a-463b-a7c6-d797632a916c HTTP/1.1" 200 OK
INFO:     10.64.138.6:45360 - "GET /api/other-documents/background-upload-folder/63c7675a-ee6a-463b-a7c6-d797632a916c HTTP/1.1" 200 OK
INFO:     10.64.138.74:60792 - "GET /api/other-documents/background-upload-folder/63c7675a-ee6a-463b-a7c6-d797632a916c HTTP/1.1" 200 OK
INFO:     10.64.138.28:53578 - "GET /api/other-documents/background-upload-folder/63c7675a-ee6a-463b-a7c6-d797632a916c HTTP/1.1" 200 OK
INFO:     10.64.138.6:42870 - "POST /api/other-documents/background-upload-folder/63c7675a-ee6a-463b-a7c6-d797632a916c/add-file HTTP/1.1" 400 Bad Request
INFO:     10.64.138.74:60792 - "GET /api/other-documents/background-upload-folder/63c7675a-ee6a-463b-a7c6-d797632a916c HTTP/1.1" 200 OK
INFO:     10.64.138.6:46182 - "POST /api/other-documents/background-upload-folder/63c7675a-ee6a-463b-a7c6-d797632a916c/add-file HTTP/1.1" 400 Bad Request
INFO:     10.64.134.90:55390 - "POST /api/other-documents/background-upload-folder/63c7675a-ee6a-463b-a7c6-d797632a916c/add-file HTTP/1.1" 400 Bad Request
INFO:     10.64.134.68:33512 - "POST /api/other-documents/background-upload-folder/63c7675a-ee6a-463b-a7c6-d797632a916c/add-file HTTP/1.1" 400 Bad Request
INFO:     10.64.138.6:42870 - "GET /api/other-documents/background-upload-folder/63c7675a-ee6a-463b-a7c6-d797632a916c HTTP/1.1" 200 OK
INFO:     10.64.134.90:37214 - "POST /api/other-documents/background-upload-folder/63c7675a-ee6a-463b-a7c6-d797632a916c/add-file HTTP/1.1" 400 Bad Request
INFO:     10.64.134.68:33512 - "GET /api/other-documents/background-upload-folder/63c7675a-ee6a-463b-a7c6-d797632a916c HTTP/1.1" 200 OK
INFO:     10.64.134.5:38558 - "GET /api/other-documents/background-upload-folder/63c7675a-ee6a-463b-a7c6-d797632a916c HTTP/1.1" 200 OK
INFO:     10.64.134.90:37222 - "GET /api/other-documents/background-upload-folder/63c7675a-ee6a-463b-a7c6-d797632a916c HTTP/1.1" 200 OK
INFO:     10.64.138.28:40672 - "GET /api/other-documents/background-upload-folder/63c7675a-ee6a-463b-a7c6-d797632a916c HTTP/1.1" 200 OK
INFO:     10.64.138.74:42520 - "GET /api/other-documents/background-upload-folder/63c7675a-ee6a-463b-a7c6-d797632a916c HTTP/1.1" 200 OK
INFO:     10.64.138.74:42520 - "GET /api/other-documents/background-upload-folder/63c7675a-ee6a-463b-a7c6-d797632a916c HTTP/1.1" 200 OK
INFO:     10.64.134.68:33512 - "GET /api/other-documents/background-upload-folder/63c7675a-ee6a-463b-a7c6-d797632a916c HTTP/1.1" 200 OK
INFO:     10.64.134.90:37222 - "GET /api/other-documents/background-upload-folder/63c7675a-ee6a-463b-a7c6-d797632a916c HTTP/1.1" 200 OK
INFO:     10.64.138.6:42870 - "POST /api/other-documents/background-upload-folder/63c7675a-ee6a-463b-a7c6-d797632a916c/add-file HTTP/1.1" 400 Bad Request
INFO:     10.64.134.68:33512 - "GET /api/other-documents/background-upload-folder/63c7675a-ee6a-463b-a7c6-d797632a916c HTTP/1.1" 200 OK
INFO:     10.64.138.28:53578 - "POST /api/other-documents/background-upload-folder/63c7675a-ee6a-463b-a7c6-d797632a916c/add-file HTTP/1.1" 400 Bad Request
INFO:     10.64.134.90:55390 - "POST /api/other-documents/background-upload-folder/63c7675a-ee6a-463b-a7c6-d797632a916c/add-file HTTP/1.1" 400 Bad Request
INFO:     10.64.138.74:42510 - "POST /api/other-documents/background-upload-folder/63c7675a-ee6a-463b-a7c6-d797632a916c/add-file HTTP/1.1" 400 Bad Request
INFO:     10.64.138.6:42870 - "GET /api/other-documents/background-upload-folder/63c7675a-ee6a-463b-a7c6-d797632a916c HTTP/1.1" 200 OK
INFO:     10.64.138.74:60792 - "POST /api/other-documents/background-upload-folder/63c7675a-ee6a-463b-a7c6-d797632a916c/add-file HTTP/1.1" 400 Bad Request
INFO:     10.64.134.68:33512 - "GET /api/other-documents/background-upload-folder/63c7675a-ee6a-463b-a7c6-d797632a916c HTTP/1.1" 200 OK
INFO:     10.64.134.5:38558 - "GET /api/other-documents/background-upload-folder/63c7675a-ee6a-463b-a7c6-d797632a916c HTTP/1.1" 200 OK
INFO:     10.64.138.28:53578 - "GET /api/other-documents/background-upload-folder/63c7675a-ee6a-463b-a7c6-d797632a916c HTTP/1.1" 200 OK
INFO:     10.64.138.74:42520 - "GET /api/other-documents/background-upload-folder/63c7675a-ee6a-463b-a7c6-d797632a916c HTTP/1.1" 200 OK
INFO:     10.64.138.6:55450 - "GET /api/other-documents/background-upload-folder/63c7675a-ee6a-463b-a7c6-d797632a916c HTTP/1.1" 200 OK
INFO:     10.64.134.90:55390 - "POST /api/other-documents/background-upload-folder/63c7675a-ee6a-463b-a7c6-d797632a916c/add-file HTTP/1.1" 400 Bad Request
INFO:     10.64.134.68:33512 - "GET /api/other-documents/background-upload-folder/63c7675a-ee6a-463b-a7c6-d797632a916c HTTP/1.1" 200 OK
INFO:     10.64.138.6:45362 - "POST /api/other-documents/background-upload-folder/63c7675a-ee6a-463b-a7c6-d797632a916c/add-file HTTP/1.1" 400 Bad Request
INFO:     10.64.138.28:53578 - "GET /api/other-documents/background-upload-folder/63c7675a-ee6a-463b-a7c6-d797632a916c HTTP/1.1" 200 OK
INFO:     10.64.134.68:33512 - "GET /api/other-documents/background-upload-folder/63c7675a-ee6a-463b-a7c6-d797632a916c HTTP/1.1" 200 OK
INFO:     10.64.138.28:53578 - "GET /api/other-documents/background-upload-folder/63c7675a-ee6a-463b-a7c6-d797632a916c HTTP/1.1" 200 OK
INFO:     10.64.138.74:42520 - "GET /api/other-documents/background-upload-folder/63c7675a-ee6a-463b-a7c6-d797632a916c HTTP/1.1" 200 OK
INFO:     10.64.134.90:55390 - "GET /api/other-documents/background-upload-folder/63c7675a-ee6a-463b-a7c6-d797632a916c HTTP/1.1" 200 OK
INFO:     10.64.138.74:42510 - "POST /api/other-documents/background-upload-folder/63c7675a-ee6a-463b-a7c6-d797632a916c/add-file HTTP/1.1" 400 Bad Request
INFO:     10.64.138.6:42870 - "POST /api/other-documents/background-upload-folder/63c7675a-ee6a-463b-a7c6-d797632a916c/add-file HTTP/1.1" 400 Bad Request
INFO:     10.64.134.90:55390 - "GET /api/other-documents/background-upload-folder/63c7675a-ee6a-463b-a7c6-d797632a916c HTTP/1.1" 200 OK
INFO:     10.64.134.90:37222 - "POST /api/other-documents/background-upload-folder/63c7675a-ee6a-463b-a7c6-d797632a916c/add-file HTTP/1.1" 400 Bad Request
INFO:     10.64.138.74:42510 - "GET /api/other-documents/background-upload-folder/63c7675a-ee6a-463b-a7c6-d797632a916c HTTP/1.1" 200 OK
INFO:     10.64.138.28:48532 - "GET /api/other-documents/background-upload-folder/63c7675a-ee6a-463b-a7c6-d797632a916c HTTP/1.1" 200 OK
INFO:     10.64.138.28:48532 - "GET /api/other-documents/background-upload-folder/63c7675a-ee6a-463b-a7c6-d797632a916c HTTP/1.1" 200 OK
INFO:     10.64.134.90:55390 - "GET /api/other-documents/background-upload-folder/63c7675a-ee6a-463b-a7c6-d797632a916c HTTP/1.1" 200 OK
INFO:     10.64.134.90:55390 - "GET /api/other-documents/background-upload-folder/63c7675a-ee6a-463b-a7c6-d797632a916c HTTP/1.1" 200 OK
INFO:     10.64.134.90:55390 - "GET /api/other-documents/background-upload-folder/63c7675a-ee6a-463b-a7c6-d797632a916c HTTP/1.1" 200 OK
INFO:     10.64.134.68:33512 - "POST /api/other-documents/background-upload-folder/63c7675a-ee6a-463b-a7c6-d797632a916c/add-file HTTP/1.1" 400 Bad Request
INFO:     10.64.134.90:37222 - "POST /api/other-documents/background-upload-folder/63c7675a-ee6a-463b-a7c6-d797632a916c/add-file HTTP/1.1" 400 Bad Request
INFO:     10.64.138.6:55462 - "GET /api/other-documents/background-upload-folder/63c7675a-ee6a-463b-a7c6-d797632a916c HTTP/1.1" 200 OK
INFO:     10.64.138.6:55462 - "GET /api/other-documents/background-upload-folder/63c7675a-ee6a-463b-a7c6-d797632a916c HTTP/1.1" 200 OK
INFO:     10.64.138.6:55462 - "GET /api/other-documents/background-upload-folder/63c7675a-ee6a-463b-a7c6-d797632a916c HTTP/1.1" 200 OK
INFO:     10.64.138.28:48532 - "GET /api/other-documents/background-upload-folder/63c7675a-ee6a-463b-a7c6-d797632a916c HTTP/1.1" 200 OK
INFO:     10.64.138.6:45362 - "POST /api/other-documents/background-upload-folder/63c7675a-ee6a-463b-a7c6-d797632a916c/add-file HTTP/1.1" 400 Bad Request
INFO:     10.64.134.68:47842 - "POST /api/other-documents/background-upload-folder/63c7675a-ee6a-463b-a7c6-d797632a916c/add-file HTTP/1.1" 400 Bad Request
INFO:     10.64.138.28:53578 - "POST /api/other-documents/background-upload-folder/63c7675a-ee6a-463b-a7c6-d797632a916c/add-file HTTP/1.1" 400 Bad Request
INFO:     10.64.138.6:45362 - "GET /api/other-documents/background-upload-folder/63c7675a-ee6a-463b-a7c6-d797632a916c HTTP/1.1" 200 OK
INFO:     10.64.134.68:33512 - "GET /api/other-documents/background-upload-folder/63c7675a-ee6a-463b-a7c6-d797632a916c HTTP/1.1" 200 OK
INFO:     10.64.138.74:46078 - "GET /api/other-documents/background-upload-folder/63c7675a-ee6a-463b-a7c6-d797632a916c HTTP/1.1" 200 OK
INFO:     10.64.138.74:46078 - "GET /api/other-documents/background-upload-folder/63c7675a-ee6a-463b-a7c6-d797632a916c HTTP/1.1" 200 OK
INFO:     10.64.134.90:37222 - "GET /api/other-documents/background-upload-folder/63c7675a-ee6a-463b-a7c6-d797632a916c HTTP/1.1" 200 OK
INFO:     10.64.138.28:48544 - "GET /api/other-documents/background-upload-folder/63c7675a-ee6a-463b-a7c6-d797632a916c HTTP/1.1" 200 OK
INFO:     10.64.134.90:37222 - "GET /api/other-documents/background-upload-folder/63c7675a-ee6a-463b-a7c6-d797632a916c HTTP/1.1" 200 OK
INFO:     10.64.138.74:42520 - "POST /api/other-documents/background-upload-folder/63c7675a-ee6a-463b-a7c6-d797632a916c/add-file HTTP/1.1" 400 Bad Request
INFO:     10.64.134.68:47842 - "POST /api/other-documents/background-upload-folder/63c7675a-ee6a-463b-a7c6-d797632a916c/add-file HTTP/1.1" 400 Bad Request
INFO:     10.64.138.6:45362 - "GET /api/other-documents/background-upload-folder/63c7675a-ee6a-463b-a7c6-d797632a916c HTTP/1.1" 200 OK
INFO:     10.64.138.74:42520 - "GET /api/other-documents/background-upload-folder/63c7675a-ee6a-463b-a7c6-d797632a916c HTTP/1.1" 200 OK
INFO:     10.64.138.28:53578 - "POST /api/other-documents/background-upload-folder/63c7675a-ee6a-463b-a7c6-d797632a916c/add-file HTTP/1.1" 400 Bad Request
INFO:     10.64.138.28:48532 - "POST /api/other-documents/background-upload-folder/63c7675a-ee6a-463b-a7c6-d797632a916c/add-file HTTP/1.1" 400 Bad Request
INFO:     10.64.138.74:42510 - "POST /api/other-documents/background-upload-folder/63c7675a-ee6a-463b-a7c6-d797632a916c/add-file HTTP/1.1" 400 Bad Request
INFO:     10.64.134.68:47842 - "GET /api/other-documents/background-upload-folder/63c7675a-ee6a-463b-a7c6-d797632a916c HTTP/1.1" 200 OK
INFO:     10.64.134.68:47842 - "GET /api/other-documents/background-upload-folder/63c7675a-ee6a-463b-a7c6-d797632a916c HTTP/1.1" 200 OK
INFO:     10.64.134.68:47842 - "GET /api/other-documents/background-upload-folder/63c7675a-ee6a-463b-a7c6-d797632a916c HTTP/1.1" 200 OK
INFO:     10.64.138.6:55462 - "GET /api/other-documents/background-upload-folder/63c7675a-ee6a-463b-a7c6-d797632a916c HTTP/1.1" 200 OK
INFO:     10.64.134.90:44954 - "GET /api/other-documents/background-upload-folder/63c7675a-ee6a-463b-a7c6-d797632a916c HTTP/1.1" 200 OK
INFO:     10.64.134.90:37222 - "POST /api/other-documents/background-upload-folder/63c7675a-ee6a-463b-a7c6-d797632a916c/add-file HTTP/1.1" 400 Bad Request
INFO:     10.64.138.28:48544 - "GET /api/other-documents/background-upload-folder/63c7675a-ee6a-463b-a7c6-d797632a916c HTTP/1.1" 200 OK) to find the detailed FastAPI/Pydantic validation error.
        3.  The issue is almost certainly within the  endpoint in  or the service it calls. The request payload or endpoint signature is likely incorrect.
    -   **Why fix this issue?**: This is the main feature the user wants to complete and is the primary blocker for the entire project. It's a critical usability feature.
    -   **Status**: IN PROGRESS
    -   **Is recurring issue?**: Y
    -   **Should Test frontend/backend/both after fix?**: Both. First, fix the backend error and test the endpoint with . Then, perform a full frontend E2E test to verify that the upload works, persists across navigation, and updates the progress bar correctly.
    -   **Blocked on other issue**: None. This is the main blocker.

**In progress Task List**:
-   **Task 1**: Stabilize the large folder upload feature.
    -   **Where to resume**: . Start by inspecting the backend logs to find the root cause of the .
    -   **What will be achieved**: A functional, non-blocking, persistent background upload feature for large folders, meeting all user requirements.
    -   **Status**: IN PROGRESS
    -   **Should Test frontend/backend/both after fix?**: Both
    -   **Blocked on something**: The  error.

**Upcoming and Future Tasks**
-   **Upcoming Tasks**:
    -   (P1) Implement a retry mechanism for individual file uploads that fail within a background task.
-   **Future Tasks**:
    -   (P2) Implement a Pause/Resume functionality for upload tasks.

**Completed work in this session**
-   **Bug Fix - Backend Upload Logic**: Fixed two critical backend bugs that were preventing file uploads: an  related to GDrive config and a  for UUID serialization.
-   **Feature - Cancel Upload Task**: Successfully implemented the ability to cancel an in-progress upload task. This included a new backend API endpoint, service logic, and frontend UI/Context updates.
-   **Architecture - Refactor to V3 Non-Blocking Upload**: Architected and implemented a new system where the frontend's role is to quickly transfer all files to the backend, which then takes over the processing. This architecture, while currently bugged, is the most robust approach attempted and aligns with the user's request to mimic the Auto Rename functionality.

**Earlier issues found/mentioned but not fixed**
-   None.

**Known issue recurrence from previous fork**
-   The core issue of creating a persistent upload that survives page navigation has been a recurring problem across multiple forks. The various frontend-only solutions have all failed, leading to the current backend-centric approach.

**Code Architecture**


**Key Technical Concepts**
-   **Background Task Persistence**: The primary challenge is creating a client-initiated task that continues after the client UI (React components) is unmounted/remounted during page navigation.
-   **Backend-Led Processing**: The current (and most promising) architecture is inspired by the working Auto Rename feature. It minimizes the frontend's responsibility to just sending the raw data. The backend then orchestrates the complex, long-running logic asynchronously using .
-   **Parallel Client-Side Requests**: The  uses  to send multiple files to the backend concurrently to speed up the initial data transfer.

**key DB schema**
-   **upload_tasks**: The schema for this collection was updated to include a  list and a  list to accommodate the V3 architecture where the backend processes files from a queue.

**changes in tech stack**
-   None.

**All files of reference**
-   **Created**:
    -   : A client-side singleton responsible for managing the parallel, non-blocking transfer of files to the backend in the V3 architecture.
-   **Significantly Updated**:
    -   : Added new V3 endpoints:  (the failing endpoint) and .
    -   : Heavily modified to support the V3 flow, including methods to add pending files and process them from a queue.
    -   : Refactored to use the  and trigger the V3 upload flow.
    -   : Modified to support task cancellation.
    -   : Updated to include a Cancel button and its associated logic.

**Areas that need refactoring**:
-   The backend API () and service () contain code from multiple abandoned upload strategies. Once V3 is stable, these legacy endpoints and methods should be removed to reduce complexity.

**key api endpoints**
-   : Creates a new upload task entry in the DB.
-   : **(CURRENTLY FAILING)** Receives a single file from the frontend and stores it temporarily.
-   : Triggers the backend to start processing its queue of received files.
-   : Cancels an ongoing task.
-   : Polled by the frontend to update the  UI.

**Critical Info for New Agent**
-   **Do not try another frontend-only solution.** The path forward is to fix the current V3 backend-centric architecture. The problem of tasks being killed on navigation is a fundamental limitation of client-side JavaScript that the current architecture correctly avoids.
-   **The immediate blocker is the .** You must start by examining the backend logs. The frontend code is likely correct in its intent; the error is on the server side.
-   The user is following the progress closely and has provided valuable direction (e.g., look at how Auto Rename works). Continue with the backend-processing model as it aligns with their insight and is the most robust technical path.

**documents and test reports created in this job**
-   : A test report from a testing agent run, which pointed out a module re-evaluation issue with the singleton pattern. The fix was implemented but did not solve the core navigation persistence problem.

**Last 10 User Messages and any pending HUMAN messages**
1.  **ph∆∞∆°ng √°n n√†y c√≥ block io kh√¥ng** (Is this approach I/O blocking?) - User asked if the V3 plan would block the UI. (Status: Addressed by making the frontend transfer non-blocking).
2.  **v·∫´n b·ªã d·ª´ng khi chuy·ªÉn page kh√°c** (still stops when switching pages) - User report after the V6 auto-resume fix attempt. (Status: Unresolved).
3.  **tham kh·∫£o c√°ch Auto rename file...** (refer to how Auto rename file works...) - User suggested mimicking the backend-only processing of another feature. This was a key insight. (Status: Actioned, led to V3 architecture).
4.  **v·∫´n b·ªã d·ª´ng** (still stops) - User report after the V4 file caching fix. (Status: Unresolved).
5.  **v·∫´n b·ªã d·ª´ng** (still stops) - User report after the V3 window-attached fix. (Status: Unresolved).
6.  **v·∫´n b·ªã d·ª´ng khi Chuy·ªÉn sang page kh√°c** (still stops when switching to another page) - User report after V3 implementation. (Status: Unresolved).
7.  **v·∫´n b·ªã d·ª´ng, h√£y d√πng testing agent ƒë·ªÉ test b√† fix l·ªói tri·ªát ƒë·ªÉ** (still stops, please use testing agent to test and fix it thoroughly). (Status: Actioned, testing agent was called).
8.  **khi chuy·ªÉn page kh√°c th√¨ vi·ªác upload b·ªã d·ª´ng** (when switching to another page the upload stops). (Status: Unresolved).
9.  **T√¥i mu·ªën sau khi upload file s·ªë 2, delay 2s upload ti·∫øp file s·ªë 3...** (I want after uploading file 2, delay 2s then upload file 3...). (Status: Addressed, but the implementation was later replaced).
10. **b·ªï sung n√∫t h·ªßy ƒë·ªÉ User c√≥ th·ªÉ h·ªßy t√°c v·ª• n·ªÅn** (add a cancel button so the User can cancel the background task). (Status: COMPLETED).

**Project Health Check:**
-   **Broken**: The Add Other Document feature for large folders is completely broken due to the  server errors.

**3rd Party Integrations**
-   **Google AI (Gemini & Document AI)** ‚Äî for certificate analysis. Requires User API Key.
-   **Google Drive** ‚Äî for file storage, accessed via a custom Google Apps Script proxy. Requires User API Key/OAuth setup.

**Testing status**
-   **Testing agent used after significant changes**: YES, but it did not lead to a final resolution.
-   **Troubleshoot agent used after agent stuck in loop**: NO
-   **Test files created**: The testing agent created a temporary test file which was not saved.
-   **Known regressions**: The Add Other Document feature for large folders is non-functional.

**Credentials to test flow:**
-   **Demo User**:  / 
-   **System Admin**:  / 

**What agent forgot to execute**
-   The previous agent correctly identified that the V3 Non-blocking approach was failing due to server errors (). However, instead of immediately investigating the backend logs to find the root cause of the error, the agent concluded the session. The critical next step, which was missed, is to debug the backend.</analysis>
